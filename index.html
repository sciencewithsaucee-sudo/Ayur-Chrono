<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Brahma Muhurta Calculator, Ayurvedic Clock, Dinacharya Tool, Dosha Kala, Circadian Rhythm Ayurveda, Sparsh Varshney, Digital Ayurveda">
    <meta name="author" content="Sparsh Varshney">
    <meta name="description" content="A research-grade tool to calculate geo-specific Brahma Muhurta, Abhijit Muhurta, and Dosha Kalas based on local solar cycles.">

    <title>Ayur-Chrono: Ayurvedic Regimen Calculator</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <section class="hero-section">
        <div class="hero-content">
            <h1>Ayur-Chrono</h1>
            <p>Precise Ayurvedic Chronobiology Calculator. Determine your location-specific Brahma Muhurta, Abhijit Muhurta, and Dosha Kalas based on solar cycles.</p>
            <div class="hero-buttons">
                <a href="#input-card" class="btn btn-primary">Calculate Now</a>
                <button onclick="generatePDF()" class="btn" style="background-color: #ffffff !important; color: #006400 !important; border: 1px solid #006400 !important;">Download Schedule</button>
            </div>
            
            <p style="font-size: 0.875rem; color: var(--color-text-body); margin-top: 1.5rem; margin-bottom: 0.75rem;">
                Citation: Ayur-Chrono: Geo-Specific Ayurvedic Regimen Calculator (v1.0.0).
            </p>
            
            <div class="hero-badges" style="margin-top: 0.75rem; display: flex; justify-content: center; align-items: center; gap: 0.75rem; flex-wrap: wrap;">
                <img src="https://img.shields.io/badge/Status-Research_Grade-006400.svg" alt="Status">
                <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener">
                    <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT">
                </a>
            </div>
        </div>
    </section>

    <main class="main-container">

        <section class="card" id="input-card">
            <div class="card-header">
                <h2>Step 1: Location & Date</h2>
            </div>
            <div class="card-body">
                <div style="position: relative;">
                    <div id="loader" class="loading-overlay hidden"><div class="spinner"></div></div>
                    
                    <div class="card-body-grid" style="padding: 0; gap: 1.5rem;">
                        <div>
                            <label>Geographic Location</label>
                            <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <input type="number" id="lat" placeholder="Latitude" step="any">
                                <input type="number" id="lng" placeholder="Longitude" step="any">
                            </div>
                            <button onclick="getLocation()" class="btn btn-secondary" style="width: 100%;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right:8px;"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                                Auto-Detect Location
                            </button>
                            <p id="location-status" style="font-size: 0.8rem; color: var(--color-text-light); margin-top: 5px;">Enter coordinates manually or click Auto-Detect.</p>
                        </div>
                        <div>
                            <label>Date</label>
                            <input type="date" id="dateInput">
                            <button onclick="calculateTimes()" class="btn btn-primary" style="width: 100%; margin-top: 10px;">Calculate Timings</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div id="results-area" class="hidden">
            
            <section class="card">
                <div class="card-header">
                    <h2>Key Timings for <span id="displayDate"></span></h2>
                </div>
                <div class="card-body">
                    <div style="background-color: #fffbeb; border: 1px solid #fef3c7; color: #92400e; padding: 0.75rem; border-radius: var(--radius-sm); font-size: 0.85rem; margin-bottom: 1.5rem; text-align: center;">
                        ⚠️ <strong>Note:</strong> All times are displayed in your device's current time zone. If calculating for a distant location, convert to local time.
                    </div>

                    <div class="card-body-grid" style="padding: 0; gap: 1.5rem;">
                        <div class="time-card">
                            <button id="brahmaAlarmBtn" onclick="setAlarm('brahma')" class="alarm-btn" title="Set Browser Notification">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                            </button>
                            <div class="time-label">Brahma Muhurta</div>
                            <div class="time-value" id="brahmaTime">--:--</div>
                            <div class="time-desc">Ideal for Meditation & Study</div>
                            <div style="font-size: 0.8rem; color: var(--color-text-light); margin-top:5px;">(Starts 2 Muhurtas before sunrise)</div>
                        </div>
                        <div class="time-card" style="background: #fff7ed; border-color: #ffedd5;">
                            <div class="time-label" style="color: #9a3412;">Abhijit Muhurta</div>
                            <div class="time-value" style="color: #9a3412;" id="abhijitTime">--:--</div>
                            <div class="time-desc" style="color: #c2410c;">Best Mid-day Time for Action</div>
                            <div style="font-size: 0.8rem; color: var(--color-text-light); margin-top:5px;">(Solar Noon Interval)</div>
                        </div>
                    </div>
                    
                    <div style="background: var(--color-bg-light); border-radius: var(--radius-md); padding: 1rem; display: flex; justify-content: space-around; text-align: center; margin-top: 1rem; border: 1px solid var(--color-border);">
                        <div>
                            <span style="display:block; font-size:0.8rem; color:var(--color-text-light);">Sunrise</span>
                            <strong style="color:var(--color-text-dark);" id="sunriseVal">--:--</strong>
                        </div>
                        <div>
                            <span style="display:block; font-size:0.8rem; color:var(--color-text-light);">Solar Noon</span>
                            <strong style="color:var(--color-text-dark);" id="noonVal">--:--</strong>
                        </div>
                        <div>
                            <span style="display:block; font-size:0.8rem; color:var(--color-text-light);">Sunset</span>
                            <strong style="color:var(--color-text-dark);" id="sunsetVal">--:--</strong>
                        </div>
                    </div>
                </div>
            </section>

            <section class="card">
                <div class="card-header">
                    <h2>Dinacharya & Dosha Cycle</h2>
                </div>
                <div class="card-body">
                    <p style="font-size: 0.9rem; color: var(--color-text-light); margin-bottom: 1rem;">
                        This schedule is dynamic based on your local Day Length (<span id="dayLength">--</span>) and Night Length (<span id="nightLength">--</span>).
                    </p>
                    <div class="data-table-container">
                        <table class="data-table" id="scheduleTable">
                            <thead>
                                <tr>
                                    <th style="width: 25%;">Period</th>
                                    <th style="width: 30%;">Time Range</th>
                                    <th style="width: 25%;">Dominant Dosha</th>
                                    <th style="width: 20%;">Activity</th>
                                </tr>
                            </thead>
                            <tbody id="scheduleBody">
                                </tbody>
                        </table>
                    </div>
                </div>
            </section>

        </div>

        <section class="seo-section card">
            <div class="card-body">
                <h2>Cite this Tool</h2>
                <div style="position: relative;">
                    <button onclick="copyCitation()" class="btn btn-outline" style="position: absolute; top: 0.75rem; right: 0.75rem; padding: 6px 8px; font-size: 0.8rem; line-height: 1; z-index: 10;">Copy</button>
                    <p id="citation-text" style="font-family: monospace; background-color: var(--color-bg-light); padding: 1rem; padding-right: 3.5rem; border-radius: var(--radius-md); border: 1px solid var(--color-border); overflow-wrap: break-word;">
                        Varshney, S. (2025). Ayur-Chrono: Geo-Specific Ayurvedic Regimen Calculator (v1.0.0) [Software]. Amidha Ayurveda. https://sciencewithsaucee-sudo.github.io/ayur-chrono/
                    </p>
                </div>

                <h2>About the Creator</h2>
                <div class="creator-info">
                    <p>This tool was created and is maintained by <strong>Sparsh Varshney</strong>, a BAMS Student and Ayurvedic Researcher.</p>
                    <p>
                        <strong>ORCID:</strong> <a href="https://orcid.org/0009-0004-7835-0673" target="_blank" rel="noopener">0009-0004-7835-0673</a><br>
                        <strong>Website:</strong> <a href="https://www.amidhaayurveda.com/p/about.html" target="_blank" rel="noopener">Amidha Ayurveda</a><br>
                    </p>
                </div>
            </div>
        </section>

    </main>

    <script src="assets/js/script.js"></script>
</body>
</html>
